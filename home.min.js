var canvas,grid_size,maxVerticalLines,numHorizontalLines,bgMode,strokeMode,responsiveMode,mouseMoveTimeout,mobileWidth=600,h=1024;function setup(){resize(),(canvas=createCanvas(windowWidth+2,h+20)).position(0,0),canvas.style("z-index","-1"),$(function(){var i=$(document);i.bind("scroll",function(){var e=$("#divider").offset().top;$(document).scrollTop()>e+grid_size?$(".home-btn").css("position","fixed"):$(".home-btn").css("position","relative"),0!==i.scrollLeft()&&i.scrollLeft(0)}),isMobile()?(0==responsiveMode&&$("#down-arrow").css("display","block"),$(".title-fluid").bind("click",function(e){e.preventDefault(),setTimeout(function(){window.location="./pages/fluid/index.html",onLeaveFluid(),i.scrollTop(0)},50),onHoverFluid()}),$(".title-motion").bind("click",function(e){e.preventDefault(),setTimeout(function(){window.location="./pages/motion/index.html",onLeaveMotion(),i.scrollTop(0)},50),onHoverMotion()})):($(".title-motion").bind("mouseover",onHoverMotion).bind("mouseout",onLeaveMotion),$(".title-fluid").bind("mouseover",onHoverFluid).bind("mouseout",onLeaveFluid))}),$("div.home").bind("click",scrollToAbout),$(".home-btn").bind("click",scrollToHome),bgMode=255,strokeMode=0,strokeWeight(.5),background(bgMode),stroke(strokeMode)}function draw(){background(bgMode),stroke(strokeMode);for(var i=$("#divider").offset().top,e=grid_size;e<windowWidth-1;e+=grid_size)1==responsiveMode?e>=grid_size&&e<3*grid_size?(line(e,0,e,(Math.floor(windowHeight/grid_size)-1)*grid_size),line(e,Math.floor(windowHeight/grid_size)*grid_size,e,(numHorizontalLines-1)*grid_size),line(e,numHorizontalLines*grid_size,e,h)):e==3*grid_size?(line(e,0,e,(Math.floor(windowHeight/grid_size)-1)*grid_size),line(e,Math.floor(windowHeight/grid_size)*grid_size,e,i+8*grid_size),line(e,i+13*grid_size,e,(numHorizontalLines-1)*grid_size),line(e,numHorizontalLines*grid_size,e,h)):e>=4*grid_size&&e<=7*grid_size-1?(line(e,0,e,i+8*grid_size),line(e,i+13*grid_size,e,h+20)):e>9*grid_size+1&&e<=13*grid_size+1?(line(e,0,e,i+2*grid_size),line(e,i+7*grid_size,e,i+8*grid_size),e>13*grid_size-1?line(e,i+19*grid_size,e,h+20):line(e,i+19.5*grid_size,e,h+20)):line(e,0,e,h+20):0==responsiveMode&&(e==1*grid_size?(line(e,0,e,(Math.floor(windowHeight/grid_size)-1)*grid_size),line(e,(Math.floor(windowHeight/grid_size)+1)*grid_size,e,(numHorizontalLines-2)*grid_size)):e==2*grid_size?(line(e,0,e,(Math.floor(windowHeight/grid_size)-1)*grid_size),line(e,(Math.floor(windowHeight/grid_size)+1)*grid_size,e,i+3*grid_size),line(e,i+8*grid_size,e,i+9*grid_size),line(e,i+14*grid_size,e,i+15*grid_size),line(e,i+23*grid_size,e,(numHorizontalLines-2)*grid_size)):e>=3*grid_size&&e<windowWidth?(line(e,0,e,i+3*grid_size),line(e,i+8*grid_size,e,i+9*grid_size),line(e,i+14*grid_size,e,i+15*grid_size),line(e,i+23*grid_size,e,h)):line(e,0,e,h));for(var o=grid_size;o<h-1;o+=grid_size)1==responsiveMode?o>i+2*grid_size+1&&o<i+7*grid_size-1?(line(0,o,9*grid_size,o),line(14*grid_size,o,15*grid_size,o)):o>i+8*grid_size+1&&o<i+13*grid_size?(line(0,o,2*grid_size,o),line(7*grid_size,o,9*grid_size,o),line(14*grid_size,o,15*grid_size,o)):line(0,o,windowWidth,o):0==responsiveMode&&(o>Math.floor(windowHeight/grid_size)*grid_size-1&&o<(Math.floor(windowHeight/grid_size)+1)*grid_size-1||o>(numHorizontalLines-2)*grid_size+1?line(3*grid_size,o,windowWidth,o):o>=i+4*grid_size&&o<i+8*grid_size||o>=i+10*grid_size&&o<i+14*grid_size||o>=i+16*grid_size&&o<i+20*grid_size?line(0,o,grid_size,o):line(0,o,windowWidth,o))}function onHoverFluid(){bgMode=255,strokeMode=0,$("#img-fluid").removeClass("hide").addClass("show").css("opacity","1"),loop()}function onLeaveFluid(){bgMode=255,strokeMode=0,$("#img-fluid").removeClass("show").addClass("hide").css("opacity","0"),noLoop()}function onHoverMotion(){bgMode=49,strokeMode=255,$("body").removeClass("lightmode").addClass("darkmode"),$("#img-motion").removeClass("hide").addClass("show").css("opacity","1"),loop()}function onLeaveMotion(){bgMode=255,strokeMode=0,$("body").removeClass("darkmode").addClass("lightmode"),$("#img-motion").removeClass("show").addClass("hide").css("opacity","0"),noLoop()}function scrollToHome(){$("html, body").animate({scrollTop:0},1800,"easeInOutCubic",null)}function scrollToAbout(){$("html, body").animate({scrollTop:$("#divider").offset().top+grid_size+5},1800,"easeInOutCubic",null)}function mouseMoved(){loop(),clearTimeout(mouseMoveTimeout),mouseMoveTimeout=setTimeout(()=>{noLoop()},500)}function mousePressed(){loop(),clearTimeout(mouseMoveTimeout),mouseMoveTimeout=setTimeout(()=>{noLoop()},500)}function resize(){windowWidth<=mobileWidth?(responsiveMode=0,maxVerticalLines=5):(responsiveMode=1,maxVerticalLines=15),grid_size=windowWidth/maxVerticalLines,1==responsiveMode?numHorizontalLines=24+Math.floor(windowHeight/grid_size):0==responsiveMode&&(numHorizontalLines=32+Math.floor(windowHeight/grid_size)),h=grid_size*numHorizontalLines,0==responsiveMode?($("#img-fluid").css("top","100vw"),$("#space-between-title-and-copyright").removeClass(function(i,e){return(e.match(/(^|\s)space-sm-\S+/g)||[]).join(" ")}).addClass("space-sm-"+(Math.floor(windowHeight/grid_size)-5))):($("#img-fluid").css("top",-(windowHeight-Math.floor(windowHeight/grid_size)*grid_size)+"px"),$("#space-between-title-and-copyright").removeClass(function(i,e){return(e.match(/(^|\s)space-\S+/g)||[]).join(" ")}).addClass("space-"+(Math.floor(windowHeight/grid_size)-5)))}function windowResized(){resize(),resizeCanvas(windowWidth+2,h+20),isMobile()&&0==responsiveMode&&$("#down-arrow").css("top",$("#space-between-title-and-copyright").offset().top+grid_size*(Math.floor(windowHeight/grid_size)-5)+20+"px")}function isMobile(){return!!new MobileDetect(window.navigator.userAgent).mobile()}$(window).load(function(){$("#hide-all").css("display","block")});