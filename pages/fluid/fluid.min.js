var canvas,grid_size,maxVerticalLines,numHorizontalLines,bgMode,strokeMode,mouseMoveTimeout,responsiveMode,color,colorIndex,colorLimY,secondaryColors,vidPlaying=!1,minWidth=600,h=1024;function setup(){resize(),(canvas=createCanvas(windowWidth+2,h+20)).position(0,0),canvas.style("z-index","-1"),$(".gif").each(function(i){$(this).attr("src",$(this).attr("data-src"))}),$(function(){var i=$(document);i.bind("scroll",function(){for(var e=document.getElementsByClassName("gif"),o=0;o<e.length;o++){var s=e[o],n=s.getBoundingClientRect();n.top+n.height>=0&&n.bottom-n.height<=(window.innerHeight||document.documentElement.clientHeight)?s.paused&&s.play():s.paused||s.pause()}0!==i.scrollLeft()&&i.scrollLeft(0)})}),$(".title-motion").bind("mouseover",onHoverMotion).bind("mouseout",onLeaveMotion);var i=document.getElementById("vid");i.addEventListener("playing",function(){$("#play-btn").css("visibility","hidden"),vidPlaying=!0}),i.addEventListener("ended",function(){$("#vid-placeholder").css("z-index","2"),$("#play-btn").css("visibility","visible")}),isMobile()?(i.addEventListener("pause",function(){$("#pause-btn").css("visibility","hidden"),$("#play-btn").css("visibility","visible"),vidPlaying=!1}),$("#vid-wrapper").click(function(){vidPlaying?i.pause():(i.play(),$("#vid-placeholder").css("z-index","-1"))})):(i.addEventListener("pause",function(){$("#pause-btn").css("visibility","hidden"),vidPlaying=!1}),$("#play-btn").click(function(){i.play(),$("#vid-placeholder").css("z-index","-1")}),$("#pause-btn").click(function(){i.pause()}),$("#vid-wrapper").bind("mouseover",()=>{vidPlaying?$("#pause-btn").css("visibility","visible"):$("#play-btn").css("visibility","visible")}),$("#vid-wrapper").bind("mouseout",()=>{$("#pause-btn").css("visibility","hidden"),$("#play-btn").css("visibility","hidden")})),bgMode=255,strokeMode=0,secondaryColors=[color(119,210,175),color(104,140,90),color(167,195,140),color(246,231,204),color(220,151,137)],colorIndex=random(5),color=secondaryColors[int(colorIndex)],strokeWeight(.8),background(bgMode),stroke(strokeMode),noLoop()}function draw(){background(bgMode);for(var i=grid_size;i<windowWidth;i+=grid_size){var e=(s=abs(i-mouseX)/grid_size)/colorLimY*-255+255;s<colorLimY-1?stroke(red(color),green(color),blue(color),e):stroke(200),1==responsiveMode?i>9*grid_size+1&&i<14*grid_size-1?(line(i,0,i,grid_size),line(i,14*grid_size,i,15*grid_size),line(i,33*grid_size,i,h+20)):i>=grid_size&&i<=3*grid_size?line(i,0,i,h-grid_size):line(i,0,i,h+20):0==responsiveMode&&(i==2*grid_size?(line(i,0,i,2*grid_size),line(i,10*grid_size,i,11*grid_size),line(i,20*grid_size,i,h-2*grid_size)):i==grid_size?line(i,0,i,h-2*grid_size):i>=3*grid_size&&i<windowWidth+20?(line(i,0,i,2*grid_size),line(i,10*grid_size,i,11*grid_size),line(i,20*grid_size,i,h+20)):line(i,0,i,h+20))}for(var o=grid_size;o<h-1;o+=grid_size)if(1==responsiveMode){var s;e=(s=abs(o-mouseY)/grid_size)/colorLimY*-255+255;s<colorLimY-1?stroke(red(color),green(color),blue(color),e):stroke(200),o>grid_size&&o<=5*grid_size||o>=19*grid_size+1&&o<=21*grid_size-1||o>=25*grid_size+1&&o<=27*grid_size-1||o>=31*grid_size+1&&o<=33*grid_size-1?(line(0,o,9*grid_size,o),line(14*grid_size,o,windowWidth,o)):line(0,o,windowWidth,o)}else 0==responsiveMode&&(o>2*grid_size&&o<=7*grid_size?line(0,o,grid_size,o):o>h-grid_size-1?line(3*grid_size,o,windowWidth,o):line(0,o,windowWidth,o))}function onHoverMotion(){bgMode=49,strokeMode=255,$("body").removeClass("lightmode").addClass("darkmode"),loop()}function onLeaveMotion(){bgMode=255,strokeMode=0,$("body").removeClass("darkmode").addClass("lightmode"),noLoop()}function mouseMoved(){loop(),clearTimeout(mouseMoveTimeout),mouseMoveTimeout=setTimeout(()=>{noLoop()},1e3)}function resize(){windowWidth<=minWidth?(responsiveMode=0,maxVerticalLines=5,numHorizontalLines=27,colorLimY=windowHeight/grid_size):(responsiveMode=1,maxVerticalLines=15,numHorizontalLines=36,colorLimY=windowHeight/grid_size/2),grid_size=windowWidth/maxVerticalLines,h=grid_size*numHorizontalLines,colorLimY=windowHeight/grid_size/2}function windowResized(){resize(),resizeCanvas(windowWidth+2,h+20)}function isMobile(){return!!new MobileDetect(window.navigator.userAgent).mobile()}$(window).load(function(){$("#hide-all").css("display","block")});