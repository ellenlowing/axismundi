var canvas,grid_size,maxVerticalLines,numHorizontalLines,bgMode,strokeMode,bgChanged,responsiveMode,mouseMovedCounter,mouseMovedFlag,maxMouseMovedCounter,xOffset,yOffset,maxOffset,offset,prevTop,prevBottom,prevLeft,prevRight,vidPlaying=!1,minWidth=600,h=1024;function setup(){windowWidth<=minWidth?(responsiveMode=0,maxVerticalLines=5,numHorizontalLines=27):(responsiveMode=1,maxVerticalLines=15,numHorizontalLines=36),grid_size=windowWidth/maxVerticalLines,h=grid_size*numHorizontalLines,(canvas=createCanvas(windowWidth,h)).position(0,0),canvas.style("z-index","-1"),$(function(){var i=$(document);i.bind("scroll",function(){0!==i.scrollLeft()&&i.scrollLeft(0)})}),$(".gif").each(function(i){$(this).attr("src",$(this).attr("data-src"))}),$(".title-fluid").bind("mouseover",onHoverFluid).bind("mouseout",onLeaveFluid);var i=document.getElementById("vid");i.load(),isMobile()?(document.getElementById("vid-placeholder").setAttribute("src","../../assets/img/vid-motion-sm.png"),i.addEventListener("playing",function(){$("#play-btn").css("visibility","hidden"),vidPlaying=!0}),i.addEventListener("pause",function(){$("#pause-btn").css("visibility","hidden"),$("#play-btn").css("visibility","visible"),vidPlaying=!1}),i.addEventListener("ended",function(){$("#vid-placeholder").css("z-index","2"),$("#play-btn").css("visibility","visible")}),$("#vid-wrapper").click(function(){vidPlaying?i.pause():(i.play(),$("#vid-placeholder").css("z-index","-1"))})):(i.addEventListener("playing",function(){$("#play-btn").css("visibility","hidden"),vidPlaying=!0}),i.addEventListener("pause",function(){$("#pause-btn").css("visibility","hidden"),vidPlaying=!1}),i.addEventListener("ended",function(){$("#vid-placeholder").css("z-index","2"),$("#play-btn").css("visibility","visible")}),$("#play-btn").click(function(){i.play(),$("#vid-placeholder").css("z-index","-1")}),$("#pause-btn").click(function(){i.pause()}),$("#vid-wrapper").bind("mouseover",()=>{vidPlaying?$("#pause-btn").css("visibility","visible"):$("#play-btn").css("visibility","visible")}),$("#vid-wrapper").bind("mouseout",()=>{$("#pause-btn").css("visibility","hidden"),$("#play-btn").css("visibility","hidden")}),windowWidth<=minWidth?($("#vid").css({height:"60vw",width:"auto"}),$("#vid-placeholder").css({height:"60vw",width:"auto"})):($("#vid").css({width:"93.3333vw",height:"auto"}),$("#vid-placeholder").css({width:"93.3333vw",height:"auto"}))),bgMode=49,strokeMode=255,bgChanged=!1,mouseMovedFlag=0,mouseMovedCounter=0,maxMouseMovedCounter=25,offset=maxOffset=1.2,prevTop=0,prevBottom=0,prevLeft=0,prevRight=0,strokeWeight(.5),background(bgMode),stroke(strokeMode)}function draw(){background(bgMode),stroke(strokeMode);var i=grid_size*Math.floor(mouseY/grid_size),e=i+grid_size+3,s=grid_size*Math.floor(mouseX/grid_size),o=s+grid_size+3;i===prevTop&&e==prevBottom&&s==prevLeft&&o==prevRight?(0==mouseMovedFlag&&(mouseMovedFlag=1),1==mouseMovedFlag&&mouseMovedCounter<maxMouseMovedCounter&&(mouseMovedCounter++,offset=map(mouseMovedCounter,0,maxMouseMovedCounter,maxOffset,0))):(mouseMovedFlag=0,mouseMovedCounter=0,offset=maxOffset);for(var d=grid_size;d<windowWidth;d+=grid_size)1==responsiveMode?d>9*grid_size+1&&d<14*grid_size-1?(line(d,0,d,grid_size),line(d,14*grid_size,d,15*grid_size),line(d,33*grid_size,d,h)):d>=grid_size&&d<=3*grid_size?line(d,0,d,h-grid_size):line(d,0,d,h):0==responsiveMode&&(d==2*grid_size?(line(d,0,d,2*grid_size),line(d,10*grid_size,d,11*grid_size),line(d,20*grid_size,d,h-2*grid_size)):d==grid_size?line(d,0,d,h-2*grid_size):d>=3*grid_size&&d<windowWidth?(line(d,0,d,2*grid_size),line(d,10*grid_size,d,11*grid_size),line(d,20*grid_size,d,h)):line(d,0,d,h));for(var t=grid_size;t<h;t+=grid_size)1==responsiveMode?t>grid_size&&t<=5*grid_size||t>=19*grid_size+1&&t<=21*grid_size-1||t>=25*grid_size+1&&t<=27*grid_size-1||t>=31*grid_size+1&&t<=33*grid_size-1?(line(0,t,9*grid_size,t),line(14*grid_size,t,windowWidth,t)):line(0,t,windowWidth,t):0==responsiveMode&&(t>2*grid_size&&t<=7*grid_size?line(0,t,grid_size,t):t>h-grid_size-1?line(3*grid_size,t,windowWidth,t):line(0,t,windowWidth,t));if(1==mouseMovedFlag&&mouseMovedCounter<maxMouseMovedCounter){if(1==responsiveMode&&(s>=9*grid_size&&o<=15*grid_size&&i>=grid_size&&e<=grid_size*(numHorizontalLines-2)||s>=0&&o<=5*grid_size&&i>=(numHorizontalLines-1)*grid_size)||0==responsiveMode&&(s>=grid_size&&o<windowWidth+10&&i>=2*grid_size&&e<=21*grid_size||s>=0&&o<=3*grid_size+10&&i>=(numHorizontalLines-2)*grid_size))return;fill(bgMode),stroke(bgMode),rect(s-1,i-1,grid_size+2,grid_size+2),stroke(strokeMode),xOffset=0,yOffset=0;for(d=s;d<=o;d+=grid_size)for(t=i;t<e;t++)1==int(random(0,10))&&(xOffset+=random(-offset,offset)),point(d+xOffset,t);for(t=i;t<=e;t+=grid_size)for(d=s;d<o;d++)1==int(random(0,10))&&(yOffset+=random(-offset,offset)),point(d,t+yOffset)}0==mouseMovedFlag&&(prevTop=i,prevBottom=e,prevLeft=s,prevRight=o)}function onHoverFluid(){bgMode=255,strokeMode=0,$(".title-fluid").css({color:"#FFF","-webkit-text-stroke":" #000 0.5px"}),$(".text").css("color","#000"),$(".title-motion").css("color","#000"),$("#large-logo").attr("src","../../assets/img/large-dark-logo.png")}function onLeaveFluid(){bgMode=49,strokeMode=255,$(".title-fluid").css("-webkit-text-stroke","0px"),$(".text").css("color","#FFF"),$(".title-motion").css("color","#FFF"),$("#large-logo").attr("src","../../assets/img/large-light-logo.png")}function windowResized(){windowWidth<=minWidth?(responsiveMode=0,maxVerticalLines=5,numHorizontalLines=27):(responsiveMode=1,maxVerticalLines=15,numHorizontalLines=36),grid_size=windowWidth/maxVerticalLines,h=grid_size*numHorizontalLines,resizeCanvas(windowWidth,h),isMobile()||(windowWidth<=minWidth?($("#vid").css({height:"60vw",width:"auto"}),$("#vid-placeholder").css({height:"60vw",width:"auto"})):($("#vid").css({width:"93.3333vw",height:"auto"}),$("#vid-placeholder").css({width:"93.3333vw",height:"auto"})))}function isMobile(){return!!new MobileDetect(window.navigator.userAgent).mobile()}$(window).load(function(){$("#hide-all").css("display","block")});