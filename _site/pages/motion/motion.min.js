var canvas,grid_size,maxVerticalLines,numHorizontalLines,bgMode,strokeMode,bgChanged,responsiveMode,mouseMovedCounter,mouseMovedFlag,maxMouseMovedCounter,xOffset,yOffset,maxOffset,offset,prevTop,prevBottom,prevLeft,prevRight,minWidth=600,h=1024;function setup(){windowWidth<=minWidth?(responsiveMode=0,maxVerticalLines=5,numHorizontalLines=27):(responsiveMode=1,maxVerticalLines=15,numHorizontalLines=36),grid_size=windowWidth/maxVerticalLines,h=grid_size*numHorizontalLines,(canvas=createCanvas(windowWidth,h)).position(0,0),canvas.style("z-index","-1"),$(function(){var e=$(document);e.bind("scroll",function(){0!==e.scrollLeft()&&e.scrollLeft(0)})}),$(".title-fluid").bind("mouseover",onHoverFluid).bind("mouseout",onLeaveFluid),bgMode=0,strokeMode=255,bgChanged=!1,mouseMovedFlag=0,mouseMovedCounter=0,maxMouseMovedCounter=25,offset=maxOffset=1.2,prevTop=0,prevBottom=0,prevLeft=0,prevRight=0,strokeWeight(.5),background(bgMode),stroke(strokeMode)}function draw(){background(bgMode),stroke(strokeMode);var e=grid_size*Math.floor(mouseY/grid_size),i=e+grid_size+3,o=grid_size*Math.floor(mouseX/grid_size),s=o+grid_size+3;e===prevTop&&i==prevBottom&&o==prevLeft&&s==prevRight?(0==mouseMovedFlag&&(mouseMovedFlag=1),1==mouseMovedFlag&&mouseMovedCounter<maxMouseMovedCounter&&(mouseMovedCounter++,offset=map(mouseMovedCounter,0,maxMouseMovedCounter,maxOffset,0))):(mouseMovedFlag=0,mouseMovedCounter=0,offset=maxOffset);for(var r=grid_size;r<windowWidth;r+=grid_size)1==responsiveMode?r>9*grid_size+1&&r<14*grid_size-1?(line(r,0,r,grid_size),r>11*grid_size-1&&r<14*grid_size-1?line(r,14.5*grid_size,r,15*grid_size):line(r,14*grid_size,r,15*grid_size),line(r,33*grid_size,r,h)):r>=grid_size&&r<=3*grid_size?line(r,0,r,h-grid_size):line(r,0,r,h):0==responsiveMode&&(r==2*grid_size?(line(r,0,r,2*grid_size),line(r,10.5*grid_size,r,11*grid_size),line(r,20*grid_size,r,h-2*grid_size)):r==grid_size?line(r,0,r,h-2*grid_size):r>=3*grid_size&&r<windowWidth?(line(r,0,r,2*grid_size),line(r,10.5*grid_size,r,11*grid_size),line(r,20*grid_size,r,h)):line(r,0,r,h));for(var d=grid_size;d<h;d+=grid_size)1==responsiveMode?d>grid_size&&d<=5*grid_size||d>=19*grid_size+1&&d<=21*grid_size-1||d>=25*grid_size+1&&d<=27*grid_size-1||d>=31*grid_size+1&&d<=33*grid_size-1?(line(0,d,9*grid_size,d),line(14*grid_size,d,windowWidth,d)):line(0,d,windowWidth,d):0==responsiveMode&&(d>2*grid_size&&d<=7*grid_size?line(0,d,grid_size,d):d>h-grid_size-1?line(3*grid_size,d,windowWidth,d):line(0,d,windowWidth,d));if(1==mouseMovedFlag&&mouseMovedCounter<maxMouseMovedCounter){if(1==responsiveMode&&(o>=9*grid_size&&s<=15*grid_size&&e>=grid_size&&i<=grid_size*(numHorizontalLines-2)||o>=0&&s<=5*grid_size&&e>=(numHorizontalLines-1)*grid_size)||0==responsiveMode&&(o>=grid_size&&s<windowWidth+10&&e>=2*grid_size&&i<=21*grid_size||o>=0&&s<=3*grid_size+10&&e>=(numHorizontalLines-2)*grid_size))return;fill(bgMode),stroke(bgMode),rect(o-1,e-1,grid_size+2,grid_size+2),stroke(strokeMode),xOffset=0,yOffset=0;for(r=o;r<=s;r+=grid_size)for(d=e;d<i;d++)1==int(random(0,10))&&(xOffset+=random(-offset,offset)),point(r+xOffset,d);for(d=e;d<=i;d+=grid_size)for(r=o;r<s;r++)1==int(random(0,10))&&(yOffset+=random(-offset,offset)),point(r,d+yOffset)}0==mouseMovedFlag&&(prevTop=e,prevBottom=i,prevLeft=o,prevRight=s)}function onHoverFluid(){bgMode=255,strokeMode=0,$(".title-fluid").css({color:"#FFF","-webkit-text-stroke":" #000 0.5px"}),$(".text").css("color","#000"),$(".title-motion").css("color","#000"),$("#large-logo").attr("src","../../assets/img/large-dark-logo.png")}function onLeaveFluid(){bgMode=0,strokeMode=255,$(".title-fluid").css("-webkit-text-stroke","0px"),$(".text").css("color","#FFF"),$(".title-motion").css("color","#FFF"),$("#large-logo").attr("src","../../assets/img/large-light-logo.png")}function windowResized(){windowWidth<=minWidth?(responsiveMode=0,maxVerticalLines=5,numHorizontalLines=27):(responsiveMode=1,maxVerticalLines=15,numHorizontalLines=36),grid_size=windowWidth/maxVerticalLines,h=grid_size*numHorizontalLines,resizeCanvas(windowWidth,h)}$(window).load(function(){$("#hide-all").css("display","block")});
